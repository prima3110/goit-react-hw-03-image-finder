{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Loader/Loader.module.css","components/Button/Button.module.css","components/App.module.css","services/api.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/SearchBar/SearchBar.js","components/Loader/Loader.js","components/Button/Button.js","components/ErrorNotification/ErrorNotification.js","components/Modal/Modal.js","components/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","getItems","searchQuery","page","axios","get","ImageGalleryItem","item","webformatURL","id","onClickImage","className","styles","onClick","role","src","alt","ImageGalleryItemImage","ImageGallery","items","map","key","defaultProps","SearchBar","state","value","handleChange","e","setState","target","handleSubmit","preventDefault","onSubmit","props","this","Searchbar","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","Loader","loader","color","height","width","Button","ErrorNotification","text","Modal","closeOnEscape","code","handleCloseModal","currentTarget","window","addEventListener","removeEventListener","foundImage","find","Overlay","largeImageURL","App","isLoading","error","pageNumber","isModalOpen","imageId","onSearch","API","then","data","prevState","hits","catch","finally","onSubmitSearchBar","onClickMore","openCloseModal","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","message","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.f268e0b2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__30zn_\",\"Modal\":\"Modal_Modal__2zHSC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2gFgx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1WWYC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1LXEL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1QHUx\"};","import axios from 'axios';\n\nconst API_KEY = '14851549-24cd97af773f84f7f9c937c43';\n\nexport const getItems = (searchQuery, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n};\n\nexport const w = () => null;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ item: { webformatURL, id }, onClickImage }) => {\n  return (\n    <li\n      className={styles.ImageGalleryItem}\n      onClick={() => onClickImage(id)}\n      role=\"presentation\"\n    >\n      <img\n        id={id}\n        src={webformatURL}\n        alt=\"img\"\n        className={styles.ImageGalleryItemImage}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  item: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n  }).isRequired,\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nconst ImageGallery = ({ items, onClickImage }) => {\n  return (\n    <ul className={styles.ImageGallery}>\n      {items.map(item => (\n        <ImageGalleryItem\n          key={item.id}\n          item={item}\n          onClickImage={onClickImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.defaultProps = {\n  items: [],\n};\n\nImageGallery.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.shape({})),\n  onClickImage: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchBar.module.css';\n\nclass SearchBar extends Component {\n  static propTypes = {\n    onSubmit: PropTypes.func.isRequired,\n  };\n\n  state = {\n    value: '',\n  };\n\n  handleChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n    onSubmit(value);\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={styles.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={styles.SearchForm}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={value}\n            onChange={this.handleChange}\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default SearchBar;\n","import React from 'react';\nimport LoaderSpinner from 'react-loader-spinner';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <div className={styles.loader}>\n      <LoaderSpinner\n        type=\"ThreeDots\"\n        color=\"#00BFFF\"\n        height={200}\n        width={200}\n      />\n    </div>\n  );\n};\n\nexport default Loader;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nconst Button = ({ onClick }) => {\n  return (\n    <button onClick={onClick} type=\"button\" className={styles.Button}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ErrorNotification = ({ text }) => <h1>Something went wrong: {text}</h1>;\n\nErrorNotification.propTypes = {\n  text: PropTypes.shape({}).isRequired,\n};\n\nexport default ErrorNotification;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nclass Modal extends Component {\n  static propTypes = {\n    items: PropTypes.arrayOf(PropTypes.shape({})).isRequired,\n    id: PropTypes.number.isRequired,\n    onClickImage: PropTypes.func.isRequired,\n  };\n\n  state = {};\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeOnEscape);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeOnEscape);\n  }\n\n  closeOnEscape = e => {\n    const { onClickImage } = this.props;\n    if (e.code !== 'Escape') return;\n    onClickImage();\n  };\n\n  handleCloseModal = e => {\n    const { onClickImage } = this.props;\n    if (e.target !== e.currentTarget) return;\n    onClickImage();\n  };\n\n  render() {\n    const { items, id } = this.props;\n    const foundImage = items.find(item => item.id === +id);\n    return (\n      <div\n        className={styles.Overlay}\n        onClick={this.handleCloseModal}\n        role=\"presentation\"\n      >\n        <div className={styles.Modal}>\n          <img src={foundImage.largeImageURL} alt=\"foundImage\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport * as API from '../services/api';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport SearchBar from './SearchBar/SearchBar';\nimport Loader from './Loader/Loader';\nimport Button from './Button/Button';\nimport ErrorNotification from './ErrorNotification/ErrorNotification';\nimport Modal from './Modal/Modal';\nimport styles from './App.module.css';\n\nclass App extends Component {\n  state = {\n    items: [],\n    isLoading: false,\n    error: null,\n    searchQuery: '',\n    pageNumber: 1,\n    isModalOpen: false,\n    imageId: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchQuery, pageNumber, items } = this.state;\n    if (\n      prevState.searchQuery !== searchQuery ||\n      prevState.pageNumber !== pageNumber\n    ) {\n      this.onSearch(searchQuery, pageNumber);\n    }\n\n    if (prevState.items !== items) {\n      window.scrollTo({\n        top: document.documentElement.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  onSearch = (searchQuery, pageNumber) => {\n    this.setState({ isLoading: true });\n    API.getItems(searchQuery, pageNumber)\n      .then(({ data }) =>\n        this.setState(prevState => ({\n          items: [...prevState.items, ...data.hits],\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        }),\n      );\n  };\n\n  onSubmitSearchBar = text => {\n    this.setState({ searchQuery: text, items: [], pageNumber: 1 });\n  };\n\n  onClickMore = () => {\n    this.setState(prevState => ({\n      pageNumber: prevState.pageNumber + 1,\n    }));\n  };\n\n  openCloseModal = id => {\n    const { isModalOpen } = this.state;\n    this.setState({ isModalOpen: !isModalOpen, imageId: id });\n  };\n\n  render() {\n    const { items, isLoading, error, isModalOpen, imageId } = this.state;\n    return (\n      <div className={styles.App}>\n        <SearchBar onSubmit={this.onSubmitSearchBar} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader />}\n        {items.length > 0 && (\n          <ImageGallery items={items} onClickImage={this.openCloseModal} />\n        )}\n        {items.length > 0 && <Button onClick={this.onClickMore} />}\n        {isModalOpen && (\n          <Modal\n            items={items}\n            id={imageId}\n            onClickImage={this.openCloseModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport 'normalize.css';\nimport './main.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1u9jq\",\"SearchForm\":\"SearchBar_SearchForm__-qljH\",\"SearchFormButton\":\"SearchBar_SearchFormButton__3tZFF\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__6PHik\",\"SearchFormInput\":\"SearchBar_SearchFormInput__2Jtn5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1eVKu\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__dpYXU\"};"],"sourceRoot":""}